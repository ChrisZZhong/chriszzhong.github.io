---
layout: post
title: "UB coding"
date: 2025-12-19
description: "UB coding hello interview"
tag: Algorithms
prime: false
---


# Problem

- [ ‼️ ] [Leetcode 269. Alien Dictionary](https://leetcode.cn/problems/alien-dictionary)

```java
class Solution {
    public String alienOrder(String[] words) {
        Set<Integer>[] graph = new HashSet[26];
        Arrays.setAll(graph, _ -> new HashSet<>());

        int[] indegree = new int[26];
        boolean[] present = new boolean[26];

        // 1) 统计出现过的字符
        for (String w : words) {
            for (int i = 0; i < w.length(); i++) {
                present[w.charAt(i) - 'a'] = true;
            }
        }

        // 2) 只比较相邻单词，构建有向边
        for (int i = 0; i < words.length - 1; i++) {
            String l = words[i];
            String r = words[i + 1];

            int minLen = Math.min(l.length(), r.length());
            boolean foundDiff = false;

            for (int k = 0; k < minLen; k++) {
                if (l.charAt(k) != r.charAt(k)) {
                    int x = l.charAt(k) - 'a';
                    int y = r.charAt(k) - 'a';

                    // 只在第一次加这条边时才增加入度（避免重复计数）
                    if (graph[x].add(y)) {
                        indegree[y]++;
                    }

                    foundDiff = true;
                    break;
                }
            }

            // 前缀非法：比如 "abc" 在 "ab" 前面
            if (!foundDiff && l.length() > r.length()) return "";
        }

        // 3) 拓扑排序（只处理出现过的字符）
        Deque<Integer> queue = new ArrayDeque<>();
        int total = 0;
        for (int i = 0; i < 26; i++) {
            if (present[i]) {
                total++;
                if (indegree[i] == 0) queue.offerLast(i);
            }
        }

        StringBuilder sb = new StringBuilder();
        while (!queue.isEmpty()) {
            int cur = queue.pollFirst();
            sb.append((char) (cur + 'a'));

            for (int nxt : graph[cur]) {
                if (--indegree[nxt] == 0) {
                    queue.offerLast(nxt);
                }
            }
        }

        // 没有输出完所有出现过的字符 => 有环/不合法
        return sb.length() == total ? sb.toString() : "";
    }
}
```

- [ ‼️ ] [Leetcode 247. Strobogrammatic Number II](https://leetcode.cn/problems/strobogrammatic-number-ii)

```java
class Solution {
    private static final char[][] PAIRS = {
        {'0','0'}, {'1','1'}, {'6','9'}, {'8','8'}, {'9','6'}
    };

    public List<String> findStrobogrammatic(int n) {
        return build(n, n);
    }

    private List<String> build(int n, int totalLen) {
        if (n == 0) return List.of("");
        if (n == 1) return List.of("0", "1", "8");

        List<String> res = new ArrayList<>();
        for (String mid : build(n - 2, totalLen)) {
            for (char[] p : PAIRS) {
                // 最外层不能用 0
                if (n == totalLen && p[0] == '0') continue;
                res.add(p[0] + mid + p[1]);
            }
        }
        return res;
    }
}
```

- [ ‼️ ] [Leetcode 384. Shuffle an Array](https://leetcode.cn/problems/shuffle-an-array) 

```java
public int[] shuffle() {
    int[] res = nums.clone();
    Random rd = new Random();
    for (int i = res.length - 1; i > 0; i--) {
        int j = rd.nextInt(i + 1);
        int tmp = res[i];
        res[i] = res[j];
        res[j] = tmp;
    }
    return res;
}
```

- [ ‼️ ] [Leetcode 305. Number of Islands II](https://leetcode.cn/problems/number-of-islands-ii)

```java
class Solution {
    int[] father;
    int size;
    
    public void build(int m, int n) {
        father = new int[m * n];
        for (int i = 0; i < m * n; i++) {
            father[i] = i;
        }
        size = 0;
    }

    public int find(int x) {
        int root = x;
        while (root != father[root]) {
            root = father[root];
        }
        while (x != father[x]) {
            int tmp = father[x];
            father[x] = root;
            x = tmp;
        }
        return root;
    }

    public void union(int x, int y) {
        int fx = find(x);
        int fy = find(y);
        if (fx != fy) {
            father[fx] = father[fy];
            size--;
        }
    }

    public List<Integer> numIslands2(int m, int n, int[][] positions) {
        int[][] map = new int[m][n];
        build(m, n);
        int[] xes = new int[] {0, 0, -1, 1};
        int[] yes = new int[] {-1, 1, 0, 0};
        List<Integer> ans = new ArrayList<>();
        for (int[] point : positions) {
            int x = point[0];
            int y = point[1];
            if (map[x][y] == 1) {
                ans.add(size);
                continue;
            }
            map[x][y] = 1;
            size++;
            for (int i = 0; i < 4; i++) {
                int nx = x + xes[i];
                int ny = y + yes[i];
                if (nx >= 0 && nx < m && ny >= 0 && ny < n && map[nx][ny] == 1) {
                    int a = x * n + y;
                    int b = nx * n + ny;
                    union(a, b);
                }
            }
            ans.add(size);
        }
        return ans;
    }
}
```

- [ ⚠️ ] [Leetcode 5. Longest Palindromic Substring](https://leetcode.cn/problems/longest-palindromic-substring)

- [ ⚠️ ] [Leetcode 1244. Design A Leaderboard](https://leetcode.cn/problems/design-a-leaderboard) TreeMap store score cnt

- [ ⚠️ 复习 ] [Leetcode 648. Replace Words](https://leetcode.cn/problems/replace-words) Trie Tree

- [ ] [Leetcode 564. Find the Closest Palindrome](https://leetcode.cn/problems/find-the-closest-palindrome)

- [ ] [Design an in-memory database to handle transactions](https://www.hellointerview.com/community/questions/memory-database-transactions/cm6uaoy1y00003b6la4jojd7s?company=Uber&level=STAFF)

- [ ] [Package Installation Order](https://www.hellointerview.com/community/questions/package-installation-order/cm6jw34rg0018dar9w2f337wf?company=Uber&level=MID_LEVEL)

- [ ] [Leetcode 79. Word Search](https://leetcode.cn/problems/word-search)

- [ ] [Leetcode 1166. Design File System](https://leetcode.cn/problems/design-file-system)

- [ ] [Leetcode 815. Bus Routes](https://leetcode.cn/problems/bus-routes)

- [ ] [Leetcode 2402. Meeting Rooms III](https://leetcode.cn/problems/meeting-rooms-iii)

- [ ] [Leetcode 262. Trips and Users](https://leetcode.cn/problems/trips-and-users)

- [ ] [Leetcode 588. Design In-Memory File System](https://leetcode.cn/problems/design-in-memory-file-system)

- [ ] [Leetcode 427. Construct Quad Tree](https://leetcode.cn/problems/construct-quad-tree)

- [ ] [Leetcode 127. Word Ladder](https://leetcode.cn/problems/word-ladder)

- [ ] [Leetcode 749. Contain Virus](https://leetcode.cn/problems/contain-virus)

- [ ✅ ] [Leetcode 1438. Longest Continuous Subarray With Absolute Diff Less Than or Equal to Limit](https://leetcode.cn/problems/longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit)

- [ ✅ ] [Leetcode 207. Course Schedule](https://leetcode.cn/problems/course-schedule)

- [ ✅ ] [Leetcode 638. Shopping Offers](https://leetcode.cn/problems/shopping-offers) 

- [ ✅ ] [Leetcode 146. LRU Cache](https://leetcode.cn/problems/lru-cache) double linked list + MAP

- [ ✅ ] [Leetcode 415. Add Strings](https://leetcode.cn/problems/add-strings)

- [ ✅ ] [Leetcode 53. Maximum Subarray](https://leetcode.cn/problems/maximum-subarray) DP

- [ ✅ ] [Leetcode 200. Number of Islands](https://leetcode.cn/problems/number-of-islands)

- [ ✅ ] [Leetcode 314. Binary Tree Vertical Order Traversal](https://leetcode.cn/problems/binary-tree-vertical-order-traversal) BFS or DFS + TreeMap

- [ ✅ ] [Leetcode 347. Top K Frequent Elements](https://leetcode.cn/problems/top-k-frequent-elements) PQ
